{
    "version": 2,
    "github": {
        "enabled": true
    },
    "builds": [
        {
            "src": "nuxt.config.js",
            "use": "@nuxtjs/vercel-builder",
            "config": {
                "serverFiles": [
                    "api/**",
                    "package.json",
                    "schemes/**"
                ]
            }
        }
    ],
    "rewrites": [
        {
            "source": "/api/(.*)",
            "destination": "/api"
        }
    ],
    "routes": [
        {
            "src": "/api/subscribe",
            "dest": "/api/index.js"
        },
        {
            "src": "/api/increment_page_view",
            "dest": "/api/index.js"
        },
        {
            "src": "/api/opengraph",
            "dest": "/api/index.js"
        },
        {
            "src": "/sw.js",
            "continue": true,
            "headers": {
                "Cache-Control": "public, max-age=0, must-revalidate",
                "Service-Worker-Allowed": "/"
            }
        }
    ]
}